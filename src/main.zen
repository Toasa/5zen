usingnamespace @import("const.zen");
usingnamespace @import("assembler.zen");
const std = @import("std");
const Emulator = @import("emulator.zen").Emulator;

pub fn main() anyerror!void {
    const program = &[_]REG_TYPE {
        // addi x5, x5, 1
        asm_addi(5, 5, 1),
        asm_addi(6, 6, 1),
        asm_addi(7, 7, 1023),
        asm_ret(),
    };

    const rom = Assembler.assemble(program);
    var emu = Emulator.init(rom);
    emu.run();
}